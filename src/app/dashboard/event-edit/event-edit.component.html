<app-sidebar></app-sidebar>
<div class="main-container">
  <div class="form-container">
    <form #eventCreateForm="ngForm" (submit)="saveEvent()">
      
      <div class="form-group">
        <label for="name">Event name *</label>
        <input type="text" class="form-control" id="name" name="name" [(ngModel)]="event.name" #name="ngModel"  required>
        <div *ngIf="name.invalid && (name.dirty || name.touched)" class="alert alert-danger">
            <div *ngIf="name.errors.required">
                Name is required.
            </div>
        </div>
      </div>

      <div class="form-group">
        <label for="description">Event description *</label>
        <textarea type="text" class="form-control" id="description" name="description" [(ngModel)]="event.description" #description="ngModel"  required></textarea>
        <div *ngIf="description.invalid && (description.dirty || description.touched)" class="alert alert-danger">
            <div *ngIf="description.errors.required">
                Description is required.
            </div>
        </div>
      </div>

      <div class="form-group">
          <label>Enter address</label>
          <input type="text" (keyup)="updateSearch()" [(ngModel)]="autocomplete.query" [ngModelOptions]="{standalone: true}"  [placeholder]="' '"/>
          <ul class="list-group" *ngIf="showAddressList">
            <li class="list-group-item" *ngFor="let item of autocompleteItems" (click)="chooseItem(item)">
                {{item.description}}
            </li>
          </ul>
      </div>

      <div class="form-group">
        <label for="date">Event date *</label>
        <input type="date" class="form-control" id="date" name="date" [(ngModel)]="event.date" #date="ngModel"  required>
        <div *ngIf="date.invalid && (date.dirty || date.touched)" class="alert alert-danger">
            <div *ngIf="date.errors.required">
                Description is required.
            </div>
        </div>
      </div>

      <div class="form-group">
        <label for="hour">Event time *</label>
        <input type="time" class="form-control" id="hour" name="hour" [(ngModel)]="event.hour" #hour="ngModel"  required>
        <div *ngIf="hour.invalid && (hour.dirty || hour.touched)" class="alert alert-danger">
            <div *ngIf="hour.errors.required">
                Time is required.
            </div>
        </div>
      </div>

      <div class="form-group">
        <img src="http://localhost:8000/uploads/company/{{event.picture}}" alt="">
        <label for="picture">Event image *</label>
        <input type="file" class="form-control" (change)="handleFileInput($event.target.files)" accept="image/*" id="img" name="img" [(ngModel)]="event.img" #img="ngModel"  required>
        <div *ngIf="img.invalid && (img.dirty || img.touched)" class="alert alert-danger">
            <div *ngIf="img.errors.required">
                Image is required.
            </div>
        </div>
      </div>

      <button type="submit">Create</button>

    </form>
  </div>
  <div class="bottom-container">
    <a href="/dashboard/events">Return to events</a>
  </div>
</div>